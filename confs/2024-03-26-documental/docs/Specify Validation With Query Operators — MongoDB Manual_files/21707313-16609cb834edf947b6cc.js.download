"use strict";(self.webpackChunksnooty=self.webpackChunksnooty||[]).push([[360],{97553:function(e,t,r){var a,i,n=r(15785),l=r(81880),s=r(55319),o=(r(17727),r(67294)),c=r(84849),g=r(70917),u=r(28951),d=r(87896),p=r(96112),m=r(87209),h=r(32650),f=r(62838),Z=r(64793),x=r(7298),y=r(17563),b=r(225),w=r(56946),v=r(40002),z=r(9549),k=r(29529),S=r(41311),F=r(33848),C=r(71540),j=r(86719),T=r(1577),P=r(77159),R=r(15966),L=r(58359);r(87642);const M=w.r.size.default,E="12px",N="152px",A="calc(50vh - 28px - 40px - "+P.M+" / 2)",I={name:"750b2t",styles:"font-family:'Euclid Circular A';font-weight:bolder;letter-spacing:0.5px;margin:0"},X=(0,s.Z)("div",{target:"e1yoi6mj11"})("margin-bottom:",A,";grid-area:results;margin-top:80px;"),D=(0,s.Z)("div",{target:"e1yoi6mj10"})("grid-area:header;>h1:first-of-type{color:",Z.D.green.dark2,";padding-bottom:24px;margin:unset;}"),O=(0,s.Z)("div",{target:"e1yoi6mj9"})("grid-area:filters;@media ",w.r.screenSize.upToMedium,"{display:none;}"),U=(0,s.Z)("h2",{target:"e1yoi6mj8"})("align-self:center;color:",Z.D.gray.dark2,";font-size:",w.r.fontSize.tiny,";line-height:15px;text-transform:uppercase;white-space:nowrap;",I,";margin-bottom:",w.r.size.default,";"),B=(0,s.Z)("div",{target:"e1yoi6mj7"})("display:grid;",(e=>{let{showFacets:t}=e;return t?"\n    column-gap: 16px;\n    grid-template-areas: 'header header' 'filters results';\n    grid-template-columns: 188px auto;\n\n    @media "+w.r.screenSize.upTo2XLarge+" {\n      margin: "+w.r.size.large+" 71px "+w.r.size.xlarge+" 52px;\n    }\n  ":"\n    column-gap: 46px;\n    grid-template-areas: 'header .' 'results filters';\n    grid-template-columns: auto 173px;\n\n    @media "+w.r.screenSize.upTo2XLarge+" {\n      margin: "+w.r.size.large+" 40px "+w.r.size.xlarge+" 40px;\n    }\n  "})," margin:",w.r.size.large," 108px ",w.r.size.xlarge," ",w.r.size.large,";max-width:1150px;row-gap:",w.r.size.large,";@media ",w.r.screenSize.upToMedium,"{column-gap:0;grid-template-areas:'header' 'results';grid-template-columns:auto;margin:",w.r.size.large," ",w.r.size.medium," ",w.r.size.xlarge," ",w.r.size.medium,";}"),J=(0,s.Z)(j.Z,{target:"e1yoi6mj6"})("grid-area:filters;@media ",w.r.screenSize.upToMedium,"{align-items:center;display:none;flex-direction:row;>div{margin-bottom:0;margin-right:",w.r.size.small,";}}@media ",w.r.screenSize.upToSmall,"{flex-direction:column;>div{width:100%;:first-of-type{margin-bottom:",w.r.size.small,";margin-right:0;}>div{width:100%;}}}"),q=(0,g.iv)("box-shadow:0px 0px 3px 0px rgba(0, 0, 0, 0.1);border-radius:45px;background-color:#fff;height:",N,";position:relative;place-self:center;width:100%;>div{padding:20px;padding-left:30px;}:hover,:focus{color:unset;text-decoration:unset;>div{background-color:unset!important;}}:before{content:'';position:absolute;top:calc(-",M," / 2);left:0;right:0;bottom:calc(-",M," / 2);background-color:transparent;}",""),V=(0,s.Z)(T.Z,{target:"e1yoi6mj5"})(q,";"),G=(0,s.Z)("div",{target:"e1yoi6mj4"})(q," box-shadow:0 0 ",w.r.size.tiny," 0 rgba(231, 238, 236, 1)!important;color:red;box-sizing:border-box;padding:15px;*{padding:2px;height:15px!important;margin-right:10px!important;}display:grid;grid-template-rows:1fr 2fr 1fr;"),H=(0,s.Z)("div",{target:"e1yoi6mj3"})("box-shadow:none;display:grid;grid-area:results;grid-auto-rows:calc(",N," + ",M,");height:100%;width:100%;:hover{>",V,"{:hover{opacity:1;box-shadow:0px 0px 5px 1px rgba(58, 63, 60, 0.15);}}}:not(:hover){>",V,"{opacity:1;transition:opacity 150ms ease-in;}}"),K=(0,s.Z)(F.ZP,{target:"e1yoi6mj2"})(F.mV,";"),Q=(0,s.Z)("div",{target:"e1yoi6mj1"})("display:flex;flex-direction:row;align-items:center;flex-wrap:wrap;row-gap:",w.r.size.small,";padding-top:",w.r.size.default,";align-items:center;"),W=(0,u.css)(a||(a=(0,l.Z)(["\n  padding-right: 8px;\n"]))),Y=(0,u.css)(i||(i=(0,l.Z)(["\n  margin-left: 8px;\n  margin-right: -2px;\n"]))),$=(0,s.Z)("div",{target:"e1yoi6mj0"})("display:none;margin-top:",w.r.size.default,";@media ",w.r.screenSize.upToMedium,"{display:block;}");var _={name:"1ks8ppo",styles:"body{background-color:#ffffff!important;}"};t.Z=()=>{const{search:e}=(0,d.useLocation)(),{searchTerm:t,searchFilter:r,setSearchFilter:a,selectedCategory:i,selectedVersion:l,showMobileFilters:s,setShowMobileFilters:Z,showFacets:w,searchParams:F,setSearchTerm:j}=(0,o.useContext)(C.Z),{isTabletOrMobile:T}=(0,b.Z)(),{0:M,1:N}=(0,o.useState)([]),{0:A,1:I}=(0,o.useState)(t||""),{0:q,1:ee}=(0,o.useState)((()=>!t)),{0:te,1:re}=(0,o.useState)(),{0:ae,1:ie}=(0,o.useState)([]),ne="Refine your search",le=(0,o.useRef)(null),se=(0,o.useCallback)((()=>{a(null)}),[a]),oe=(0,o.useCallback)((()=>{Z(!0)}),[Z]);let ce={glyph:"X",onClick:se,text:"Clear all filters"};r||(ce={glyph:"Filter",onClick:oe,text:ne}),(0,o.useEffect)((()=>{le.current&&(le.current.focus(),le.current.classList.add("sl-search-input"))}),[]),(0,o.useEffect)((()=>{if(!F.get("q"))return void N([]);ee(!1);(async()=>{const e=await fetch((0,k.X)(F),S.hu);return(await e.json()).results})().then((e=>{N(e||[])})).catch((e=>{console.error("Error fetching search results: "+JSON.stringify(e))})).finally((()=>{ee(!0)})),(async()=>(await fetch((0,k.o)(F),S.hu)).json())().then((e=>{re(null==e?void 0:e.count)})).catch((e=>{console.error("Error while fetching search meta: "+JSON.stringify(e)),re()}))}),[F]),(0,o.useEffect)((()=>{(async()=>(await fetch((0,k.o)(null,t),S.hu)).json())().then((e=>{ie(null==e?void 0:e.facets)})).catch((e=>{console.error("Error while fetching search meta: "+JSON.stringify(e)),ie([])}))}),[t]);const ge=(0,o.useCallback)((async e=>{const r=parseInt(F.get("page"))||1,a=e?r+1:r-1;a<1||j(t,a)}),[F,t,j]);return(0,g.tZ)(o.Fragment,null,(0,g.tZ)(g.xB,{styles:_}),(0,g.tZ)(B,{showFacets:w},(0,g.tZ)(D,null,(0,g.tZ)(x.H3,{as:"h1"},"Search Results"),(0,g.tZ)(h.Mj,{ref:le,value:A,placeholder:"Search",onSubmit:r=>{var a;const i=null===(a=r.target[0])||void 0===a?void 0:a.value,{page:n}=y.parse(e);!i||i===t&&1===parseInt(n)||j(i)},onChange:e=>{I(e.target.value)}}),(0,g.tZ)("span",{style:{display:"none"},className:"sl-search-keyword"},t),t&&(0,g.tZ)(Q,null,!w&&Number.isInteger(te)&&(0,g.tZ)(x.Lh,{className:(0,u.cx)(W)},(0,g.tZ)(o.Fragment,null,te," RESULTS")),!!r&&(0,g.tZ)("div",null,i&&(0,g.tZ)(K,{variant:"green",onClick:se},i,(0,g.tZ)(m.ZP,{className:(0,u.cx)(Y),glyph:"X"})),l&&(0,g.tZ)(K,{variant:"blue"},l)),w&&(0,g.tZ)(L.R,{resultsCount:te})),(0,g.tZ)($,null,(0,g.tZ)(p.ZP,{leftGlyph:(0,g.tZ)(m.ZP,{glyph:ce.glyph}),onClick:ce.onClick},ce.text))),!!t&&!q&&(0,g.tZ)(o.Fragment,null,(0,g.tZ)(H,null,(0,n.Z)(Array(10)).map(((e,t)=>(0,g.tZ)(G,{key:t},(0,g.tZ)(c.Z,{borderRadius:E,width:200}),(0,g.tZ)(c.Z,{borderRadius:E}),(0,g.tZ)(c.Z,{count:2,borderRadius:E,inline:!0,width:60})))))),t&&q&&!(null!=M&&M.length)&&(0,g.tZ)(o.Fragment,null,(0,g.tZ)(o.Fragment,null,(0,g.tZ)(X,null,(0,g.tZ)(P.Z,null)))),!!t&&!!q&&!!M.length&&(0,g.tZ)(o.Fragment,null,(0,g.tZ)(H,null,M.map(((e,t)=>{let{title:r,preview:a,url:i,searchProperty:n,facets:l}=e;return(0,g.tZ)(V,{key:""+i+t,onClick:()=>(0,v.D)("SearchSelection",{areaFrom:"ResultsPage",rank:t,selectionUrl:i}),title:r,preview:(0,z.X)(a),url:i,useLargeTitle:!0,searchProperty:null==n?void 0:n[0],facets:l})})),(0,g.tZ)(o.Fragment,null,(0,g.tZ)(f.Z,{currentPage:parseInt(new URLSearchParams(e).get("page")||1),numTotalItems:te,onForwardArrowClick:ge.bind(null,!0),onBackArrowClick:ge.bind(null,!1),shouldDisableBackArrow:1===parseInt(new URLSearchParams(e).get("page")),shouldDisableForwardArrow:(null==M?void 0:M.length)&&M.length<10})))),F.get("q")&&(0,g.tZ)(O,null,w?(0,g.tZ)(o.Fragment,null,!s&&(0,g.tZ)(L.m,{facets:ae})):(0,g.tZ)(o.Fragment,null,(0,g.tZ)(U,null,ne),(0,g.tZ)(J,null))),s&&T&&(0,g.tZ)(R.Z,{facets:ae})))}}}]);
//# sourceMappingURL=21707313-16609cb834edf947b6cc.js.map